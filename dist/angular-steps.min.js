/**
 * angular-steps - Split your UI into (wizard-like) steps in AngularJS.
 * @version v1.0.0
 * @link https://github.com/omichelsen/angular-steps
 * @author Ole Michelsen <ole@michelsen.dk>
 * @license MIT
 */
!function(){function e(e){angular.module("angular-steps").directive(e,function(){return{restrict:"A",replace:!1,require:"^steps",link:function(t,n,s,r){n.on("click",function(n){n.preventDefault(),t.$apply(function(){t.$eval(s[e]),r[e.replace("step","").toLowerCase()]()})})}}})}angular.module("templates-angular-steps",["step.html","steps.html"]),angular.module("step.html",[]).run(["$templateCache",function(e){e.put("step.html",'<div ng-show="selected" class="step ng-hide" ng-transclude></div>')}]),angular.module("steps.html",[]).run(["$templateCache",function(e){e.put("steps.html",'<div class="angular-steps">\n    <div class="steps" ng-transclude></div>\n</div>')}]),angular.module("angular-steps",["templates-angular-steps"]),angular.module("angular-steps").directive("step",function(){return{restrict:"E",replace:!0,transclude:!0,scope:{name:"@"},require:"^steps",templateUrl:function(e,t){return t.template||"step.html"},link:function(e,t,n,s){s.addStep(e)}}}),angular.module("angular-steps").directive("steps",function(){return{restrict:"E",replace:!0,transclude:!0,scope:{currentStep:"=",onFinish:"&",name:"@"},templateUrl:function(e,t){return t.template||"steps.html"},controller:["$scope","$element","StepsService",function(e,t,n){function s(){e.steps.forEach(function(e){e.selected=!1}),e.selectedStep=null}n.addSteps(e.name||n.defaultName,this),e.$on("$destroy",function(){n.removeSteps(e.name||n.defaultName)}),this.steps=e.steps=[],e.$watch("currentStep",function(t){if(t){var n=e.selectedStep.name;if(e.selectedStep&&n!==e.currentStep){var s=e.steps.filter(function(t){return t.name===e.currentStep})[0];e.goTo(s)}}}),this.addStep=function(t){e.steps.push(t),1===e.steps.length&&e.goTo(e.steps[0])},e.goTo=function(t){s(),e.selectedStep=t,void 0!==e.currentStep&&(e.currentStep=t.name),t.selected=!0},this.next=function(){var t=e.steps.indexOf(e.selectedStep);t===e.steps.length-1?this.finish():e.goTo(e.steps[t+1])},this.previous=function(){var t=e.steps.indexOf(e.selectedStep);if(0===t)throw new Error("Already at step 0");e.goTo(e.steps[t-1])},this.goTo=function(t){var n;n=isNaN(t)?e.steps.filter(function(e){return e.name===t})[0]:e.steps[t],e.goTo(n)},this.finish=function(){e.onFinish&&e.onFinish()},this.cancel=function(){e.goTo(e.steps[0])}}]}}),e("stepNext"),e("stepPrevious"),e("stepFinish"),e("stepCancel"),angular.module("angular-steps").factory("StepsService",function(){var e={},t={};return e.defaultName="default",e.addSteps=function(e,n){t[e]=n},e.removeSteps=function(e){delete t[e]},e.steps=function(n){return t[n||e.defaultName]},e})}();